{"version":3,"file":"static/js/626.1d3c2479.chunk.js","mappings":"8PAEaA,EAAiBC,EAAAA,GAAAA,KAAH,4ICiBhBC,EAAS,eAACC,EAAD,uDAAQ,GAAR,OAClBC,OAAOC,gBAAgB,IAAIC,WAAWH,IAAOI,QAAO,SAACC,EAAIC,GAWvD,OARED,IAFFC,GAAQ,IACG,GACHA,EAAKC,SAAS,IACXD,EAAO,IACTA,EAAO,IAAIC,SAAS,IAAIC,cACtBF,EAAO,GACV,IAEA,GAGT,GAAE,GAbe,E,iBCbPG,EAAc,WACzB,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA0CF,EAAAA,EAAAA,UAAS,IAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KACQC,GAASC,EAAAA,EAAAA,uBAATD,KACR,GAAqBE,EAAAA,EAAAA,yBAAdC,GAAP,eAEMC,EAAU,mCAAG,WAAOC,EAAMC,GAAb,8EACXC,EAAc,SAAAF,GAClB,OAAOL,EAAKQ,MACV,SAAAC,GAAC,OAAIA,EAAEJ,KAAKK,sBAAwBL,EAAKK,mBAAxC,GAEJ,EACKC,EAAgB,WACpB,OAAOX,EAAKQ,MAAK,SAAAC,GAAC,OAAIA,EAAEH,SAAWA,CAAjB,GACnB,EACKM,EAAU,CACdtB,GAAIN,EAAO,IACXqB,KAAAA,EACAC,OAAAA,IAEEC,EAAYK,EAAQP,MAdP,yCAeRQ,MAAM,GAAD,OAAID,EAAQP,KAAZ,6BAfG,WAiBbM,EAAcC,EAAQN,QAjBT,yCAkBRO,MAAM,GAAD,OAAID,EAAQN,OAAZ,6BAlBG,iCAqBTH,EAAWS,GArBF,0DAuBfE,OAAOD,MAAM,mBAvBE,0DAAH,wDA2BVE,EAAe,SAAAN,GACnB,IAAMO,EAAQP,EAAEQ,OACG,SAAfD,EAAME,MACRrB,EAAemB,EAAMG,OAEJ,QAAfH,EAAME,MACRnB,EAAiBiB,EAAMG,MAE1B,EASD,OACE,UAACrC,EAAD,CAAgBsC,SARD,SAAAX,GACfA,EAAEY,iBACFjB,EAAWR,EAAaE,GACxBD,EAAe,IACfE,EAAiB,GAClB,EAGqCuB,aAAa,MAAjD,WACE,8BACE,iCACA,kBACEJ,KAAK,OACLb,KAAK,OACLkB,QAAQ,yHACRC,UAAQ,EACRL,MAAOvB,EACP6B,SAAUV,QAGd,8BACE,mCACA,kBACEG,KAAK,MACLb,KAAK,SACLkB,QAAQ,yFACRC,UAAQ,EACRL,MAAOrB,EACP2B,SAAUV,QAGd,mBACA,mBAAQG,KAAK,SAAb,2BAGL,EClFYQ,EAAO3C,EAAAA,GAAAA,GAAH,mLAUJ4C,EAAO5C,EAAAA,GAAAA,GAAH,oIAQJ6C,EAAY7C,EAAAA,GAAAA,OAAH,sB,SClBhB8C,GAAcC,E,OAAAA,IAAY,CAC9BzB,KAAM,SACN0B,aAAc,CAAEC,OAAQ,IACxBC,SAAU,CACRC,UADQ,SACEC,EAAOC,GACfD,EAAMH,OAASI,EAAOC,OACvB,KAKUH,GADcL,EAAYS,QACZT,EAAYU,QAA1BL,WACFM,EAAY,SAAAL,GAAK,OAAIA,EAAMH,OAAOA,MAAjB,ECTjBS,EAAc,WACzB,OAAwBC,EAAAA,EAAAA,4BAAjBC,GAAP,eACQ3C,GAASC,EAAAA,EAAAA,uBAATD,KACFgC,GAASY,EAAAA,EAAAA,IAAYJ,GAQrBK,EAAgB,SAAApC,GACpBkC,EAAclC,EAAEqC,cAAcxD,GAC/B,EAED,OACE,SAACoC,EAAD,UAVO1B,EAAKgC,QAAO,SAAAe,GAAC,OAClBA,EAAE1C,KAAK2C,cAAcC,SAASjB,EAAOgB,cADnB,IAWAE,KAAI,SAAAH,GAAC,OACrB,UAACpB,EAAD,YACE,0BAAOoB,EAAE1C,QACT,0BAAO0C,EAAEzC,UACT,SAACsB,EAAD,CAAWtC,GAAIyD,EAAEzD,GAAI6D,QAASN,EAA9B,sBAHSE,EAAEzD,GADQ,KAW5B,EC9BY8D,EAAS,WACpB,IAAMC,GAAWC,EAAAA,EAAAA,MACXtB,GAASY,EAAAA,EAAAA,IAAYJ,GAM3B,OACE,8BACE,kDACA,kBAAOtB,KAAK,OAAOC,MAAOa,EAAQP,SAPf,SAAAhB,GACrB4C,EAASnB,EAAUzB,EAAEQ,OAAOE,OAC7B,MAQF,ECcD,EAxBiB,WACb,OAAmClB,EAAAA,EAAAA,uBAA3BD,EAAR,EAAQA,KAAMuD,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,UACzB,OACI,iCACQ,uCACA,SAAC9D,EAAD,KACA,qCAEE8D,GAA6B,IAAhBxD,EAAKyD,QAMlB,mIALA,iCACE,SAACL,EAAD,KACA,SAACX,EAAD,OAQHc,IAAS,wDAGrB,C","sources":["components/ContactForm/ContactForm.styled.jsx","../node_modules/nanoid/index.browser.js","components/ContactForm/ContactForm.jsx","components/ContactList/ContactList.styled.jsx","redux/filterSlice.js","components/ContactList/ContactList .jsx","components/Filter/Filter.jsx","pages/Contacts/Contacts.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const AddContactForm = styled.form`\n  background-color: #b1cede;\n  max-width: 450px;\n  border-radius: 10px;\n  text-align: center;\n  padding: 25px;\n`;\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import { useState } from 'react';\nimport { AddContactForm } from './ContactForm.styled';\nimport { nanoid } from 'nanoid';\nimport { useAddContactMutation, useGetContactsQuery } from 'redux/API';\n// import { addContact, getContacts } from 'redux/contactsSlice';\n\nexport const ContactForm = () => {\n  const [contactName, setContactName] = useState('');\n  const [contactNumber, setContactNumber] = useState('');\n  const { data } = useGetContactsQuery();\n  const [addContact] = useAddContactMutation();\n\n  const newContact = async (name, number) => {\n    const includeName = name => {\n      return data.find(\n        e => e.name.toLocaleLowerCase() === name.toLocaleLowerCase()\n      );\n    };\n    const includeNumber = () => {\n      return data.find(e => e.number === number);\n    };\n    const contact = {\n      id: nanoid(10),\n      name,\n      number,\n    };\n    if (includeName(contact.name)) {\n      return alert(`${contact.name} is already in contacts`);\n    }\n    if (includeNumber(contact.number)) {\n      return alert(`${contact.number} is already in contacts`);\n    }\n    try {\n      await addContact(contact);\n    } catch {\n      window.alert('Oh no, error...');\n    }\n  };\n\n  const handleChange = e => {\n    const event = e.target;\n    if (event.type === 'text') {\n      setContactName(event.value);\n    }\n    if (event.type === 'tel') {\n      setContactNumber(event.value);\n    }\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    newContact(contactName, contactNumber);\n    setContactName('');\n    setContactNumber('');\n  };\n\n  return (\n    <AddContactForm onSubmit={onSubmit} autoComplete=\"off\">\n      <label>\n        <p>Name</p>\n        <input\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n          value={contactName}\n          onChange={handleChange}\n        />\n      </label>\n      <label>\n        <p>Number</p>\n        <input\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          required\n          value={contactNumber}\n          onChange={handleChange}\n        />\n      </label>\n      <br />\n      <button type=\"submit\">Add contact</button>\n    </AddContactForm>\n  );\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  background-color: #ffd1e0;\n  border-radius: 10px;\n  padding: 25px;\n`;\n\nexport const Item = styled.li`\n  display: flex;\n  justify-content: space-between;\n  margin: 10px;\n  width: 100%;\n  text-align: start;\n`;\n\nexport const DeleteBtn = styled.button``;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst filterSlice = createSlice({\n  name: 'filter',\n  initialState: { filter: '' },\n  reducers: {\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n  },\n});\n\nexport const filterReducer = filterSlice.reducer;\nexport const { setFilter } = filterSlice.actions;\nexport const getFilter = state => state.filter.filter;\n","import { Item, List, DeleteBtn } from './ContactList.styled';\nimport { useSelector } from 'react-redux';\nimport { getFilter } from 'redux/filterSlice';\nimport { useGetContactsQuery, useDeleteContactMutation } from 'redux/API';\n\nexport const ContactList = () => {\n  const [deleteContact] = useDeleteContactMutation();\n  const { data } = useGetContactsQuery();\n  const filter = useSelector(getFilter);\n\n  const onFilterChange = () => {\n    return data.filter(c =>\n      c.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n\n  const removeContact = e => {\n    deleteContact(e.currentTarget.id);\n  };\n\n  return (\n    <List>\n      {onFilterChange().map(c => (\n        <Item key={c.id}>\n          <span>{c.name}</span>\n          <span>{c.number}</span>\n          <DeleteBtn id={c.id} onClick={removeContact}>\n            Delete\n          </DeleteBtn>\n        </Item>\n      ))}\n    </List>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setFilter, getFilter } from 'redux/filterSlice';\n\nexport const Filter = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n\n  const onFilterChange = e => {\n    dispatch(setFilter(e.target.value));\n  };\n\n  return (\n    <label>\n      <p>Find contacts by name</p>\n      <input type=\"text\" value={filter} onChange={onFilterChange} />\n    </label>\n  );\n};\n","import { ContactForm } from '../../components/ContactForm/ContactForm';\nimport { ContactList } from '../../components/ContactList/ContactList ';\nimport { Filter } from '../../components/Filter/Filter';\n\nimport { useGetContactsQuery } from 'redux/API';\n\n\nconst Contacts = () => {\n    const { data, error, isLoading } = useGetContactsQuery();\nreturn (\n    <>\n            <h1>Phonebook</h1>\n            <ContactForm />\n            <h2>Contacts</h2>\n\n            {!isLoading && data.length !== 0 ? (\n              <>\n                <Filter />\n                <ContactList />\n              </>\n            ) : (\n              <div>\n                Your contacts are not here yet, but you can add contacts in the\n                form above and save them in this app\n              </div>\n            )}\n            {error && <div>Oh no... Something wrong</div>}\n            </>\n    )\n}\n\nexport default Contacts"],"names":["AddContactForm","styled","nanoid","size","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","ContactForm","useState","contactName","setContactName","contactNumber","setContactNumber","data","useGetContactsQuery","useAddContactMutation","addContact","newContact","name","number","includeName","find","e","toLocaleLowerCase","includeNumber","contact","alert","window","handleChange","event","target","type","value","onSubmit","preventDefault","autoComplete","pattern","required","onChange","List","Item","DeleteBtn","filterSlice","createSlice","initialState","filter","reducers","setFilter","state","action","payload","reducer","actions","getFilter","ContactList","useDeleteContactMutation","deleteContact","useSelector","removeContact","currentTarget","c","toLowerCase","includes","map","onClick","Filter","dispatch","useDispatch","error","isLoading","length"],"sourceRoot":""}